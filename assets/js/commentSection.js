(()=>{const e=document.querySelector("#videoContainer"),t=document.querySelector("#commentForm");t&&t.addEventListener("submit",(async n=>{n.preventDefault();const o=t.querySelector("textarea"),a=o.value,{id:c}=e.dataset;if(""===a||""===a.trim())return;const d=await fetch(`/api/videos/${c}/comment`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:a})});o.value="";const{status:m}=d;if(201===m){const{newCommentId:e}=await d.json();((e,t)=>{const n=document.querySelector(".video__comments ul"),o=document.createElement("li");o.className="video__comment",o.dataset.id=t;const a=document.createElement("i");a.className="fas fa-comment";const c=document.createElement("span");c.innerText=`${e}`;const d=document.createElement("span");d.innerText="‚ùå",o.appendChild(a),o.appendChild(c),o.appendChild(d),n.appendChild(o)})(a,e)}}))})();